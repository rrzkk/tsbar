version: '3'

services: 
    server:
        build: ./barserver
        expose: 
            - 8080
     
        ports: 
            - 8080:8080
        volumes: 
            - ./barserver/src:/barproject/server/src
        command: npm run start

    client:
        build: ./reactui
        
        expose: 
            - 3000
        ports:
            - 3000:3000
        stdin_open: true
        volumes: 
            - ./reactui/src:/barproject/reactui/src
            - ./reactui/public:/barproject/reactui/public
        links: 
            - server
        command: npm run start